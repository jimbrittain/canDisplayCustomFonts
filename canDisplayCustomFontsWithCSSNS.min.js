"use strict";!function(){var a=__imns("util.classes");"DisplayCustomFonts"in a||(a.DisplayCustomFonts=function(){var a=__imns("util.classes");return void 0!==a.DisplayCustomFonts.prototype.singleton?a.DisplayCustomFonts.prototype.singleton:(a.DisplayCustomFonts.prototype.singleton=this,this.tested=!1,this.name="imwebfonttester",this.supports={eot:!1,woff:!1,svg:!1,otf:!1,ttf:!1},void this.init())},a.DisplayCustomFonts.prototype.init=function(){var a=__imns("util.tools"),b=this;a.fetter(document,"DOMContentLoaded",[b,function(){var a=__imns("util.tools");a.addStyleSheet({name:"candisplaycustomfonts",href:"../TestBed/DisplayCustomFonts.css"}),a.fetter(window,"load",[b,function(){b.test()}],!0,"after")}],!0,"after")},a.DisplayCustomFonts.prototype.test=function(){var a=__imns("util.tools"),b=__imns("util.validation"),c=__imns("util.dom");if(b.isBrowserLegacyIE("LT9"))this.supports.eot=!0;else{var d=c.findElementsByTag("body")[0];a.findStyleSheet({name:"candisplay"});if("innerHTML"in d)for(var e in this.supports)this.supports.hasOwnProperty(e)&&(d.innerHTML+='<div id="'+this.name+e+'" style="visibility:hidden;position:absolute;bottom:0;right:0;padding:0;margin:0;font-size:20px;font-family:\''+this.name+e+"',serif;\">---</div>",this.establishTest(e))}this.tested=!0},a.DisplayCustomFonts.prototype.establishTest=function(a){var b=this;setTimeout(function(){b.testReturn(a)},150)},a.DisplayCustomFonts.prototype.testReturn=function(a){var b=__imns("util.dom"),c=__imns("util.validation"),d=b.findElementById(this.name+a),e=b.findElementsByTag("body")[0];if(c.isHTMLElement(d))if(parseFloat(b.findElementStyle(d,"offsetWidth"))<10&&(this.supports[a]=!0),"removeChild"in e);else d.style.display="none"},a.DisplayCustomFonts.prototype.doesSupport=function(a){if(this.tested){var b=__imns("util.validation");return b.isString(a)&&(a=a.toLowerCase(),a in this.supports)?this.supports[a]:this.doesSupportAny()}},a.DisplayCustomFonts.prototype.doesSupportAny=function(){if(this.tested){for(var a in this.supports)if(this.supports.hasOwnProperty(a)&&this.supports[a]===!0)return!0;return!1}},__imns("util.tools").canDisplayCustomFonts=function(a){return(new(__imns("util.classes").DisplayCustomFonts)).doesSupport(a)},__imns("util.tools").displayCustomFonts=new a.DisplayCustomFonts)}();